<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<p class="name">1</p>
	<p class="name">2</p>
	<p class="name">3</p>
	<p class="name">4</p>
	<p class="name">5</p>
	<script type="text/javascript">
	// Array.from
		let arrayLike = {
			'0':'a',
			'1':'b',
			'2':'c',
			'3':'d',
			length:3
		};
		let arr2 = Array.from(arrayLike);
		console.log(arr2);
		// NodeList对象
		let ps=document.querySelector('p');
		let html=Array.from(ps.innerHTML);
		html.forEach(function (p){
			console.log(p);
		});
		// arguments对象
		function foo(){
			var args = Array.from(arguments);
			console.log(args);
		}
		let arrV = "hello";
		let arrP = "world";
		foo(arrV,arrP);
		let test1=Array.from('hello');
		console.log(test1);
		test1.forEach(function(p){
			console.log(arguments[0]);
		});
		let nameSet=new Set(['a','b']);
		console.log(Array.from(nameSet));
		console.log(Array.from([1,2,3,4]));
		// ...扩展运算符

		console.log([...[1,2,3,4,8]]);
		// 有length属性的对象,就能被Array.from()转为数组,但是扩展运算符无法转换
		console.log(Array.from({length:3}));
		// 扩展运算符会报错
		//console.log([...{length:3}]);

		//对于没有部署Array.from的浏览器,可以用Array.prototype.slice方法替代
		let obj="hello";
		const toArray = ( () => Array.from ? Array.from : obj => [].slice.call(obj) )();
		console.log(toArray(obj));

		// Array.from第二参数
		console.log(Array.from([1,2,5,8], (x) => x + '哈哈'));
		console.log(Array.from([1,2,5,9]).map( x => x * x ));

		//Dom节点案例
		let names=document.querySelectorAll('p.name');
		console.log(names);
		//map
		let names1=Array.prototype.map.call(names,s =>s.textContent);
		console.log(names1);
		//Array.from()
		let names2 = Array.from(names,s =>s.textContent);
		console.log(names2);

		// 将数组中布尔值为false的转为0.
		console.log(Array.from([1,2,,5,,6],(n)=>n || '0'));
		//返回各种数据的类型
		function typeOf(){
			return Array.from(arguments,value=>typeof value);
		}
		console.log(typeOf(null,[],NaN))

		console.log(Array.from({length:3},value=>'SmallRui'));

		//返回字符串的长度,它能正确处理各种Unicode字符,可以避免JavaScript将大于\uFFFF的U字符算作2个字符的bug
		function countSymbols(string){
			return Array.from(string).length;
		}
		console.log(countSymbols(names));
	</script>
</body>
</html>